{% load static%}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet"  href=" {%  static 'css/index.css'   %} "  />
  </head>
  <body>

    <div class="container-fluid">
    <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            {% for dado in tv %}

              {% if dado.tipo == 'imagem' %}

                <div class="carousel-item active">
                  <img src="{{ dado.caminho_completo }}" class="d-block w-100" alt="...">
                </div>

              {% else %}

                <div class="carousel-item active">
                  <video  controls autoplay muted class="d-block w-100" >
                    <source src="{{ dado.caminho_completo }}" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>

              {% endif %}

            {% endfor %}
        </div>

        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Anterior</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Pr√≥xima</span>
        </a>
      </div>
    
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script >

$(document).ready(function() {
  $('#carrossel').carousel({
    interval: false,
  });

  $('#carrossel').on('slide.bs.carousel', function (e) {
    var currentItem = $(e.relatedTarget);
    if (currentItem.hasClass('video-item')) {
      e.preventDefault();
      currentItem.find('video').on('ended', function() {
        $(e.target).carousel(e.direction);
      });
    }
  });
});

    </script>
  </body>
</html>